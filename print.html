<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js geo-engine">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Geo Engine Docs</title>
                <meta name="robots" content="noindex" />
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "geo-engine" : "geo-engine";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('geo-engine')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            
            <div class="sidebar-scrollbox">
                <!-- TODO: Replace with standard functionality: https://github.com/rust-lang/mdBook/pull/1584 -->
                <div class="sidebar-book-logo">
                    <img src="images/geoengine-web.svg" alt="Geo Engine">
                </div>
                <ol class="chapter"><li class="chapter-item expanded "><a href="welcome.html"><strong aria-hidden="true">1.</strong> Welcome to Geo Engine Docs</a></li><li class="chapter-item expanded "><a href="geoengine/intro.html"><strong aria-hidden="true">2.</strong> The Geo Engine</a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">2.1.</strong> Engine</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.2.</strong> Workflows</div></li></ol></li><li class="chapter-item expanded "><a href="api/intro.html"><strong aria-hidden="true">3.</strong> API</a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">3.1.</strong> Datasets</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.2.</strong> Projects</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.3.</strong> Upload</div></li><li class="chapter-item expanded "><a href="api/workflows.html"><strong aria-hidden="true">3.4.</strong> Workflows</a></li></ol></li><li class="chapter-item expanded "><a href="datatypes/intro.html"><strong aria-hidden="true">4.</strong> Datatypes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="datatypes/colorizer.html"><strong aria-hidden="true">4.1.</strong> Colorizer</a></li><li class="chapter-item expanded "><a href="datatypes/measurement.html"><strong aria-hidden="true">4.2.</strong> Measurement</a></li><li class="chapter-item expanded "><a href="datatypes/queryrectangle.html"><strong aria-hidden="true">4.3.</strong> QueryRectangle</a></li><li class="chapter-item expanded "><a href="datatypes/rasterdatatype.html"><strong aria-hidden="true">4.4.</strong> RasterDataType</a></li><li class="chapter-item expanded "><a href="datatypes/timeinstance.html"><strong aria-hidden="true">4.5.</strong> TimeInstance</a></li><li class="chapter-item expanded "><a href="datatypes/timeinterval.html"><strong aria-hidden="true">4.6.</strong> TimeInterval</a></li><li class="chapter-item expanded "><a href="datatypes/timestep.html"><strong aria-hidden="true">4.7.</strong> TimeStep</a></li></ol></li><li class="chapter-item expanded "><a href="operators/intro.html"><strong aria-hidden="true">5.</strong> Operators</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="operators/columnrangefilter.html"><strong aria-hidden="true">5.1.</strong> ColumnRangeFilter</a></li><li class="chapter-item expanded "><a href="operators/expression.html"><strong aria-hidden="true">5.2.</strong> Expression</a></li><li class="chapter-item expanded "><a href="operators/gdalsource.html"><strong aria-hidden="true">5.3.</strong> GdalSource</a></li><li class="chapter-item expanded "><a href="operators/ogrsource.html"><strong aria-hidden="true">5.4.</strong> OgrSource</a></li><li class="chapter-item expanded "><a href="operators/pointinpolygon.html"><strong aria-hidden="true">5.5.</strong> PointInPolygon</a></li><li class="chapter-item expanded "><a href="operators/reprojection.html"><strong aria-hidden="true">5.6.</strong> Reprojection</a></li><li class="chapter-item expanded "><a href="operators/temporalrasteraggregation.html"><strong aria-hidden="true">5.7.</strong> TemporalRasterAggregation</a></li><li class="chapter-item expanded "><a href="operators/timeprojection.html"><strong aria-hidden="true">5.8.</strong> TimeProjection</a></li><li class="chapter-item expanded "><a href="operators/timeshift.html"><strong aria-hidden="true">5.9.</strong> TimeShift</a></li><li class="chapter-item expanded "><a href="operators/vectorjoin.html"><strong aria-hidden="true">5.10.</strong> VectorJoin</a></li><li class="chapter-item expanded "><a href="operators/visualpointclustering.html"><strong aria-hidden="true">5.11.</strong> VisualPointClustering</a></li></ol></li><li class="chapter-item expanded "><a href="plots/intro.html"><strong aria-hidden="true">6.</strong> Plots</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="plots/boxplot.html"><strong aria-hidden="true">6.1.</strong> BoxPlot</a></li><li class="chapter-item expanded "><a href="plots/classHistogram.html"><strong aria-hidden="true">6.2.</strong> ClassHistogram</a></li><li class="chapter-item expanded "><a href="plots/featureattributevaluesoverTime.html"><strong aria-hidden="true">6.3.</strong> FeatureAttributeValuesOverTime</a></li><li class="chapter-item expanded "><a href="plots/histogram.html"><strong aria-hidden="true">6.4.</strong> Histogram</a></li><li class="chapter-item expanded "><a href="plots/meanrasterpixelvaluesovertime.html"><strong aria-hidden="true">6.5.</strong> MeanRasterPixelValuesOverTime</a></li><li class="chapter-item expanded "><a href="plots/scatterplot.html"><strong aria-hidden="true">6.6.</strong> ScatterPlot</a></li><li class="chapter-item expanded "><a href="plots/statistics.html"><strong aria-hidden="true">6.7.</strong> Statistics</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> OGC Access</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">7.1.</strong> WMS</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> Solutions</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">8.1.</strong> Geo Engine Pro</div></li></ol></li></ol>                <ol class="chapter">
                    <li class="part-title">API Reference</li>
                    <li class="chapter-item">
                        <a href="https://python.docs.geoengine.io" style="width: 100%; display: flex; flex-direction: row;">
                            <span style="flex: 1;">Python</span>
                            <i class="fa fa-external-link" style="align-self: center;"></i>
                        </a>
                    </li>
                </ol>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <!-- TODO: include back if we have a dark theme -->
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list" style="display: none;">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">Geo Engine Docs</h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="welcome-to-geo-engine-docs"><a class="header" href="#welcome-to-geo-engine-docs">Welcome to Geo Engine Docs</a></h1>
<p>Geo Engine is a cloud-ready geo-spatial data processing platform.
This documentation presents the foundations of the system and how to use it.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-geo-engine"><a class="header" href="#the-geo-engine">The Geo Engine</a></h1>
<p>Geo Engine is a cloud-ready geospatial data processing platform.
Here, we give an overview of its architecture and describe the main components.</p>
<h2 id="architecture"><a class="header" href="#architecture">Architecture</a></h2>
<!--
Take from Google Slide…
 - export as SVG,
 - Crop with Inkscape,
 - and scale x2.
-->
<p><img src="geoengine/../images/architecture.svg" alt="Architecture" /></p>
<p>Geo Engine consists of the backend and several frontends.
The backend is subdivided into three subcomponents: services, operators, and data types.
Data types specify primitives like feature collections for vector or gridded raster data.
Moreover, it defines plots and basic operations, e.g., projections.
The <code>Operators</code> block contains the processing engine and operators, i.e., source operators, raster- and vector time series processing.
Furthermore, there are raster time series stream adapters, which can be used as building blocks for operators.
The <code>Services</code> block contains protocols, e.g., OGC standard interfaces, as well as Geo Engine specific interfaces.
These can be workflow registration, plot queries, and data upload.
Each of the subcomponents can have additions in Geo Engine Pro, for instance, User Management, which is only available in Geo Engine Pro.</p>
<p>Frontends for the Geo Engine are <code>geoengine-ui</code> for building web applications on top of Geo Engine.
<code>geoengine-python</code> offers a Python library that can be used in Jupyter Notebooks.
3rd party applications like QGIS can access Geo Engine via its OGC interfaces.</p>
<p>All components of Geo Engine are fully containerized and Docker-ready.
Geo Engine builds upon several technologies, including GDAL, arrow, Angular, and OpenLayers.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="api"><a class="header" href="#api">API</a></h1>
<p>This chapter introduces the API of Geo Engine.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="workflows"><a class="header" href="#workflows">Workflows</a></h1>
<p>This section introduces the workflow API of Geo Engine.</p>
<h2 id="resultdescriptor"><a class="header" href="#resultdescriptor">ResultDescriptor</a></h2>
<p>Call <code>/workflow/{workflowId}/metadata</code> to get the result descriptor of the workflow. It describes the result of the workflow by data type, spatial reference, temporal and spatial extent and some more information that is specific to raster and vector results.</p>
<h3 id="example-response-for-rasters"><a class="header" href="#example-response-for-rasters">Example response for rasters</a></h3>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;raster&quot;,
  &quot;dataType&quot;: &quot;U8&quot;,
  &quot;spatialReference&quot;: &quot;EPSG:4326&quot;,
  &quot;measurement&quot;: {
    &quot;type&quot;: &quot;unitless&quot;
  },
  &quot;noDataValue&quot;: 0.0,
  &quot;time&quot;: {
    &quot;start&quot;: &quot;2014-01-01T00:00:00.000Z&quot;,
    &quot;end&quot;: &quot;2014-07-01T00:00:00.000Z&quot;
  },
  &quot;bbox&quot;: {
    &quot;upperLeftCoordinate&quot;: [-180.0, 90.0],
    &quot;lowerRightCoordinate&quot;: [180.0, -90.0]
  }
}
</code></pre>
<h3 id="example-response-for-vectors"><a class="header" href="#example-response-for-vectors">Example response for vectors</a></h3>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;vector&quot;,
  &quot;dataType&quot;: &quot;MultiPoint&quot;,
  &quot;spatialReference&quot;: &quot;EPSG:4326&quot;,
  &quot;columns&quot;: {
    &quot;id&quot;: &quot;int&quot;,
    &quot;name&quot;: &quot;text&quot;,
    &quot;value&quot;: &quot;float&quot;
  },
  &quot;time&quot;: {
    &quot;start&quot;: &quot;2014-04-01T00:00:00.000Z&quot;,
    &quot;end&quot;: &quot;2014-07-01T00:00:00.000Z&quot;
  },
  &quot;bbox&quot;: {
    &quot;lowerLeftCoordinate&quot;: [3.9662060000000001, 45.9030360000000002],
    &quot;upperRightCoordinate&quot;: [19.171284, 51.8473430000000022]
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="datatypes"><a class="header" href="#datatypes">Datatypes</a></h1>
<p>This chapter introduces the datatypes of Geo Engine.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="colorizer"><a class="header" href="#colorizer">Colorizer</a></h1>
<p>A colorizer specifies a mapping between values and pixels/objects of an output image.
Different variants of colorizers perform different kinds of mapping.</p>
<p>Usually, there are two miscellaneous fields in each colorizer, namely <code>noDataColor</code> and <code>defaultColor</code>.
The field <code>noDataColor</code> is used for all missing, <code>NaN</code> or no data values.
The <code>defaultColor</code> is used for all overflowing values, for instance, if there are breakpoints defined from <code>0</code> to <code>10</code>, but a value of <code>-5</code> or <code>11</code> is mapped to a color.</p>
<p>Colors are defined as RGBA arrays, where the first three values refer to red, green and blue and the fourth one to alpha, which means transparency.
The values range from <code>0</code> to <code>255</code>.
For instance, <code>[255, 255, 255, 255]</code> is opaque white and <code>[0, 0, 0, 127]</code> is semi-transparent black.</p>
<h2 id="linear-gradient"><a class="header" href="#linear-gradient">Linear Gradient</a></h2>
<p>A linear gradient linearly interpolates values within breakpoints of a color table.</p>
<h3 id="example-json"><a class="header" href="#example-json">Example JSON</a></h3>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;linearGradient&quot;,
  &quot;breakpoints&quot;: [
    {
      &quot;value&quot;: 1.0,
      &quot;color&quot;: [255, 255, 255, 255]
    },
    {
      &quot;value&quot;: 2.0,
      &quot;color&quot;: [0, 0, 0, 255]
    }
  ],
  &quot;noDataColor&quot;: [0, 0, 0, 0],
  &quot;defaultColor&quot;: [0, 0, 0, 0]
}
</code></pre>
<h2 id="logarithmic-gradient"><a class="header" href="#logarithmic-gradient">Logarithmic Gradient</a></h2>
<p>A logarithmic gradient logarithmically interpolates values within breakpoints of a color table and allows only positive values.</p>
<h3 id="errors"><a class="header" href="#errors">Errors</a></h3>
<p>Services report errors that try to use a logarithmic gradient specification with values where <code>value &lt;= 0</code>.</p>
<h3 id="example-json-1"><a class="header" href="#example-json-1">Example JSON</a></h3>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;logarithmicGradient&quot;,
  &quot;breakpoints&quot;: [
    {
      &quot;value&quot;: 1.0,
      &quot;color&quot;: [255, 255, 255, 255]
    },
    {
      &quot;value&quot;: 2.0,
      &quot;color&quot;: [0, 0, 0, 255]
    }
  ],
  &quot;noDataColor&quot;: [0, 0, 0, 0],
  &quot;defaultColor&quot;: [0, 0, 0, 0]
}
</code></pre>
<h2 id="palette"><a class="header" href="#palette">Palette</a></h2>
<p>A palette maps values as classes to a certain color.
Unmapped values result in the NO DATA color.</p>
<h3 id="example-json-2"><a class="header" href="#example-json-2">Example JSON</a></h3>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;palette&quot;,
  &quot;colors&quot;: {
    &quot;1&quot;: [255, 255, 255, 255],
    &quot;2&quot;: [0, 0, 0, 255]
  },
  &quot;noDataColor&quot;: [0, 0, 0, 0],
  &quot;defaultColor&quot;: [0, 0, 0, 0]
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="measurement"><a class="header" href="#measurement">Measurement</a></h1>
<p>Measurements describe stored data, i.e. what is measured and in which unit.</p>
<h2 id="unitless"><a class="header" href="#unitless">Unitless</a></h2>
<p>Some values do not have an associated measurement or no information is present.</p>
<h3 id="example-json-3"><a class="header" href="#example-json-3">Example JSON</a></h3>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;unitless&quot;
}
</code></pre>
<h2 id="continuous"><a class="header" href="#continuous">Continuous</a></h2>
<p>The type <code>continuous</code> specifies a continuous variable that is measured in a certain unit.</p>
<h3 id="example-json-4"><a class="header" href="#example-json-4">Example JSON</a></h3>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;continuous&quot;,
  &quot;measurement&quot;: &quot;Reflectance&quot;,
  &quot;unit&quot;: &quot;%&quot;
}
</code></pre>
<h2 id="classification"><a class="header" href="#classification">Classification</a></h2>
<p>A classification maps numbers to named classes.</p>
<h3 id="example-json-5"><a class="header" href="#example-json-5">Example JSON</a></h3>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;classification&quot;,
  &quot;measurement&quot;: &quot;Land Cover&quot;,
  &quot;classes&quot;: {
    &quot;0&quot;: &quot;Grassland&quot;,
    &quot;1&quot;: &quot;Forest&quot;,
    &quot;2&quot;: &quot;Water&quot;
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="queryrectangle"><a class="header" href="#queryrectangle">QueryRectangle</a></h1>
<p>A query rectangle defines a multi-dimensional spatial query in Geo Engine.
It consists of three parts:</p>
<ul>
<li>a two-dimensional spatial bounds (and extent plus its spatial reference system),</li>
<li>a time interval,</li>
<li>a spatial resolution.</li>
</ul>
<p>The spatial bounds behave differently for raster, vector, or plot queries.
For raster queries, the spatial bounds define a spatial partition.
This means the lower right corner of the spatial bounds is not included in the query.
For vector queries, the spatial bounds define a bounding box, i.e., a rectangle where all bounds are included.
Plot queries behave like vector queries.</p>
<h1 id="example-json-6"><a class="header" href="#example-json-6">Example JSON</a></h1>
<pre><code class="language-json">{
  &quot;spatial_bounds&quot;: {
    &quot;upper_left_coordinate&quot;: {
      &quot;x&quot;: 10.0,
      &quot;y&quot;: 20.0
    },
    &quot;lower_right_coordinate&quot;: {
      &quot;x&quot;: 70.0,
      &quot;y&quot;: 80.0
    }
  },
  &quot;time_interval&quot;: {
    &quot;start&quot;: &quot;2010-01-01T00:00:00Z&quot;,
    &quot;end&quot;: &quot;2011-01-01T00:00:00Z&quot;
  },
  &quot;spatial_resolution&quot;: {
    &quot;x&quot;: 1.0,
    &quot;y&quot;: 1.0
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="raster-data-type"><a class="header" href="#raster-data-type">Raster Data Type</a></h1>
<p>Rasters can have the following data types:</p>
<ul>
<li>U8: unsigned 8-bit integer</li>
<li>I8: signed 8-bit integer</li>
<li>U16: unsigned 16-bit integer</li>
<li>I16: signed 16-bit integer</li>
<li>U32: unsigned 32-bit integer</li>
<li>I32: signed 32-bit integer</li>
<li>U64: unsigned 64-bit integer</li>
<li>I64: signed 64-bit integer</li>
<li>F32: 32-bit floating-point</li>
<li>F64: 64-bit floating-point</li>
</ul>
<h1 id="example-json-7"><a class="header" href="#example-json-7">Example JSON</a></h1>
<pre><code class="language-json">&quot;U8&quot;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="time-instance"><a class="header" href="#time-instance">Time Instance</a></h1>
<p>A time instance is a single point in time.
It is specified in UTC time zone 0 and has a maximum resolution of milliseconds.</p>
<h1 id="example-json-8"><a class="header" href="#example-json-8">Example JSON</a></h1>
<p>Specifying in ISO 8601:</p>
<pre><code class="language-json">&quot;2010-01-01T00:00:00Z&quot;
</code></pre>
<p>Using the same date as a UNIX timestamp in milliseconds:</p>
<pre><code class="language-json">1262304000000
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="time-interval"><a class="header" href="#time-interval">Time Interval</a></h1>
<p>A time interval consists of two <a href="datatypes/./timeinstance.html"><code>TimeInstance</code>s</a>.
Please be aware, that the interval is defined in close-open semantics.
This means, that the start time is inclusive and the end time of the interval is exclusive.
In mathematical notation, the interval is defined as <code>[start, end)</code>.</p>
<h1 id="example-json-9"><a class="header" href="#example-json-9">Example JSON</a></h1>
<p>Specifying in ISO 8601:</p>
<pre><code class="language-json">{
  &quot;start&quot;: &quot;2010-01-01T00:00:00Z&quot;,
  &quot;end&quot;: &quot;2011-01-01T00:00:00Z&quot;
}
</code></pre>
<p>Using the same date as UNIX timestamps in milliseconds:</p>
<pre><code class="language-json">{
  &quot;start&quot;: 1262304000000,
  &quot;end&quot;: 1293840000000
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="time-step"><a class="header" href="#time-step">Time Step</a></h1>
<p>A time step consists of granularity and the number of steps.
For instance, you can specify yearly steps by settings the granularity to <code>Years</code> and the number of steps to 1.
Half-yearly steps can be specified by setting the granularity to <code>Months</code> and the number of steps to 6.</p>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Example Value</th></tr></thead><tbody>
<tr><td><code>granularity</code></td><td><code>TimeGranularity</code></td><td>granularity of the time steps</td><td><code>months</code></td></tr>
<tr><td><code>step</code></td><td><code>integer</code></td><td>number of time steps</td><td>1</td></tr>
</tbody></table>
<h2 id="timegranularity"><a class="header" href="#timegranularity">TimeGranularity</a></h2>
<p>The granularity of the time steps can take one of the following values.</p>
<table><thead><tr><th>Variant</th><th>Description</th></tr></thead><tbody>
<tr><td><code>millis</code></td><td>milliseconds</td></tr>
<tr><td><code>seconds</code></td><td>seconds</td></tr>
<tr><td><code>minutes</code></td><td>minutes</td></tr>
<tr><td><code>hours</code></td><td>hours</td></tr>
<tr><td><code>days</code></td><td>days</td></tr>
<tr><td><code>months</code></td><td>months</td></tr>
<tr><td><code>years</code></td><td>years</td></tr>
</tbody></table>
<h1 id="example-json-10"><a class="header" href="#example-json-10">Example JSON</a></h1>
<pre><code class="language-json">{
  &quot;granularity&quot;: &quot;months&quot;,
  &quot;step&quot;: 1
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="operators"><a class="header" href="#operators">Operators</a></h1>
<p>This chapter introduces the operators of Geo Engine.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="columnrangefilter"><a class="header" href="#columnrangefilter">ColumnRangeFilter</a></h1>
<p>The <code>ColumnRangeFilter</code> operator allows filtering <code>FeatureCollection</code>s.
Users can define one or more data ranges for a column in the data table that is then filtered.
The filter can be used for numerical as well as textual columns.
Each range is inclusive, i.e., <code>[start, end]</code> includes as well the <code>start</code> as the <code>end</code>.</p>
<p>For instance, you can filter a collection to only include column values that are either in the range 0-10 or 20-30.
Moreover, you can specify the range <code>a</code> to <code>k</code> to dismiss all column values that start with larger letters in the alphabet.</p>
<h2 id="parameters"><a class="header" href="#parameters">Parameters</a></h2>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Example Value</th></tr></thead><tbody>
<tr><td><code>column</code></td><td>string</td><td>a column name of the <code>FeatureCollection</code></td><td><pre>&quot;precipitation&quot;</pre></td></tr>
<tr><td><code>ranges</code></td><td>List of either string or number ranges</td><td>one or more ranges of either strings or numbers; each range works as an <em>or</em> for the filter</td><td><pre>[[42,43]]</pre></td></tr>
<tr><td><code>keepNulls</code></td><td>boolean</td><td>should null values be kept or discarded?</td><td><pre>true</pre></td></tr>
</tbody></table>
<h2 id="inputs"><a class="header" href="#inputs">Inputs</a></h2>
<p>The <code>ColumnRangeFilter</code> operator expects exactly one <em>vector</em> input.</p>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody>
<tr><td><code>vector</code></td><td><code>SingleVectorSource</code></td></tr>
</tbody></table>
<h2 id="errors-1"><a class="header" href="#errors-1">Errors</a></h2>
<p>If the value in the <code>column</code> parameter is not a column of the feature collection, an error is thrown.</p>
<h2 id="example-json-11"><a class="header" href="#example-json-11">Example JSON</a></h2>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;ColumnRangeFilter&quot;,
  &quot;params&quot;: {
    &quot;column&quot;: &quot;population&quot;,
    &quot;ranges&quot;: [[1000, 10000]],
    &quot;keepNulls&quot;: false
  },
  &quot;sources&quot;: {
    &quot;vector&quot;: {
      &quot;type&quot;: &quot;OgrSource&quot;,
      &quot;params&quot;: {
        &quot;dataset&quot;: {
          &quot;type&quot;: &quot;internal&quot;,
          &quot;datasetId&quot;: &quot;e977b123-ca47-4c5b-aace-481119826aaf&quot;
        },
        &quot;attributeProjection&quot;: [&quot;name&quot;, &quot;population&quot;]
      }
    }
  }
}
</code></pre>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;ColumnRangeFilter&quot;,
  &quot;params&quot;: {
    &quot;column&quot;: &quot;name&quot;,
    &quot;ranges&quot;: [
      [&quot;a&quot;, &quot;k&quot;],
      [&quot;v&quot;, &quot;z&quot;]
    ],
    &quot;keepNulls&quot;: false
  },
  &quot;sources&quot;: {
    &quot;vector&quot;: {
      &quot;type&quot;: &quot;OgrSource&quot;,
      &quot;params&quot;: {
        &quot;dataset&quot;: {
          &quot;type&quot;: &quot;internal&quot;,
          &quot;datasetId&quot;: &quot;e977b123-ca47-4c5b-aace-481119826aaf&quot;
        },
        &quot;attributeProjection&quot;: [&quot;name&quot;, &quot;population&quot;]
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="raster-expression"><a class="header" href="#raster-expression">Raster Expression</a></h1>
<p>The <code>Expression</code> operator performs a pixel-wise mathematical expression on one or more raster sources.
The expression is specified as a user-defined script in a very simple language.
The output is a raster time series with the result of the expression and with time intervals that are the same as for the inputs.
Users can specify an output data type.
Internally, the expression is evaluated using floating-point numbers.</p>
<p>An example usage scenario is to calculate NDVI for a red and a near-infrared raster channel.
The expression uses two raster sources, referred to as A and B, and calculates the formula <code>(A - B) / (A + B)</code>.
When the temporal resolution is months, our output NDVI will also be a monthly time series.</p>
<h2 id="parameters-1"><a class="header" href="#parameters-1">Parameters</a></h2>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Example Value</th></tr></thead><tbody>
<tr><td><code>expression</code></td><td><code>Expression</code></td><td>Expression script</td><td><pre><code>(A - B) / (A + B)</code></pre></td></tr>
<tr><td><code>outputType</code></td><td><a href="operators//datatypes/rasterdatatype.html"><code>RasterDataType</code></a></td><td>A raster data type for the output</td><td><pre><code>U8</code></pre></td></tr>
<tr><td><code>outputNoDataValue</code></td><td><code>Number</code></td><td>NO DATA value for the output</td><td><pre><code>-2</code></pre></td></tr>
<tr><td><code>outputMeasurement</code></td><td><a href="operators//datatypes/measurement.html"><code>Measurement</code></a></td><td>Description about the output</td><td><pre><code>{<br>  &quot;type&quot;: &quot;continuous&quot;,<br>  &quot;measurement&quot;: &quot;NDVI&quot;<br>}</code></pre></td></tr>
<tr><td><code>mapNoData</code></td><td><code>bool</code></td><td>Should NO DATA values be mapped with the <code>expression</code>? Otherwise, they are mapped automatically to NO DATA.</td><td><pre><code>false</code></pre></td></tr>
</tbody></table>
<h2 id="types"><a class="header" href="#types">Types</a></h2>
<p>The following describes the types used in the parameters.</p>
<h3 id="expression"><a class="header" href="#expression">Expression</a></h3>
<p>Expressions are simple scripts to perform pixel-wise computations.
One can refer to the raster inputs as <code>A</code> for the first raster, <code>B</code> for the second, and so on.
Furthermore, expressions can check with <code>A IS NODATA</code>, <code>B IS NODATA</code>, etc for NO DATA values.
This is important if <code>mapNoData</code> is set to true.
Otherwise, NO DATA values are mapped automatically to the output NO DATA value.
Finally, the value <code>out_nodata</code> can be used to output NO DATA.</p>
<p>Users can think of this implicit function signature for, e.g., two inputs:</p>
<pre><code class="language-Rust">fn (A: f64, B: f64, out_nodata: f64) -&gt; f64
</code></pre>
<p>As a start, expressions contain algebraic operations and mathematical functions.</p>
<pre><code class="language-Rust">(A + B) / 2
</code></pre>
<p>In addition, branches can be used to check for conditions.</p>
<pre><code class="language-Rust">if A IS NODATA {
    B
} else {
    A
}
</code></pre>
<p>Function calls can be used to access utility functions.</p>
<pre><code class="language-Rust">max(A, 0)
</code></pre>
<p>Currently, the following functions are available:</p>
<ul>
<li><code>abs(a)</code>: absolute value</li>
<li><code>min(a, b)</code>, <code>min(a, b, c)</code>: minimum value</li>
<li><code>max(a, b)</code>, <code>max(a, b, c)</code>: maximum value</li>
<li><code>sqrt(a)</code>: square root</li>
<li><code>ln(a)</code>: natural logarithm</li>
<li><code>log10(a)</code>: base 10 logarithm</li>
<li><code>cos(a)</code>, <code>sin(a)</code>, <code>tan(a)</code>, <code>acos(a)</code>, <code>asin(a)</code>, <code>atan(a)</code>: trigonometric functions</li>
<li><code>pi()</code>, <code>e()</code>: mathematical constants</li>
<li><code>round(a)</code>, <code>ceil(a)</code>, <code>floor(a)</code>: rounding functions</li>
<li><code>mod(a, b)</code>: division remainder</li>
<li><code>to_degrees(a)</code>, <code>to_radians(a)</code>: conversion to degrees or radians</li>
</ul>
<p>To generate more complex expressions, it is possible to have variable assignments.</p>
<pre><code class="language-Rust">let mean = (A + B) / 2;
let coefficient = 0.357;
mean * coefficient
</code></pre>
<p>Note, that all assignments are separated by semicolons.
However, the last expression must be without a semicolon.</p>
<h2 id="inputs-1"><a class="header" href="#inputs-1">Inputs</a></h2>
<p>The <code>Expression</code> operator expects one to eight <em>raster</em> inputs.</p>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody>
<tr><td><code>A</code></td><td><code>SingleRasterSource</code></td></tr>
<tr><td><code>B</code></td><td><code>SingleRasterSource</code></td></tr>
<tr><td><code>C</code></td><td><code>SingleRasterSource</code></td></tr>
<tr><td>…</td><td><code>SingleRasterSource</code></td></tr>
</tbody></table>
<h2 id="errors-2"><a class="header" href="#errors-2">Errors</a></h2>
<p>The parsing of the expression can fail if there are, e.g., syntax errors.</p>
<h2 id="example-json-12"><a class="header" href="#example-json-12">Example JSON</a></h2>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;Expression&quot;,
  &quot;params&quot;: {
    &quot;expression&quot;: &quot;(A - B) / (A + B)&quot;,
    &quot;outputType&quot;: &quot;F32&quot;,
    &quot;outputNoDataValue&quot;: &quot;NAN&quot;,
    &quot;mapNoData&quot;: false
  },
  &quot;sources&quot;: {
    &quot;A&quot;: {
      &quot;type&quot;: &quot;GdalSource&quot;,
      &quot;params&quot;: {
        &quot;dataset&quot;: {
          &quot;type&quot;: &quot;internal&quot;,
          &quot;datasetId&quot;: &quot;a626c880-1c41-489b-9e19-9596d129859c&quot;
        }
      }
    },
    &quot;B&quot;: {
      &quot;type&quot;: &quot;GdalSource&quot;,
      &quot;params&quot;: {
        &quot;dataset&quot;: {
          &quot;type&quot;: &quot;internal&quot;,
          &quot;datasetId&quot;: &quot;699b9e14-4bd6-4d57-889a-58f60288b19c&quot;
        }
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gdalsource"><a class="header" href="#gdalsource">GdalSource</a></h1>
<p>The <code>GdalSource</code> is a <em>source operator</em> that reads raster data using GDAL.
The counterpart for vector data is the <a href="operators/./ogrsource.html"><code>OgrSource</code></a>.</p>
<h2 id="parameters-2"><a class="header" href="#parameters-2">Parameters</a></h2>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Example Value</th><th>Default Value</th></tr></thead><tbody>
<tr><td><code>dataset</code></td><td><code>DatasetId</code></td><td>The id of the dataset to be loaded</td><td><pre><code>{<br>  &quot;type&quot;: &quot;internal&quot;,<br>  &quot;datasetId&quot;: &quot;a626c880-1c41-489b-9e19-9596d129859c&quot;<br>}</code></pre></td><td></td></tr>
</tbody></table>
<h2 id="inputs-2"><a class="header" href="#inputs-2">Inputs</a></h2>
<p>None</p>
<h2 id="errors-3"><a class="header" href="#errors-3">Errors</a></h2>
<p>If the given dataset does not exist or is not readable, an error is thrown.</p>
<h2 id="example-json-13"><a class="header" href="#example-json-13">Example JSON</a></h2>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;GdalSource&quot;,
  &quot;params&quot;: {
    &quot;dataset&quot;: {
      &quot;type&quot;: &quot;internal&quot;,
      &quot;datasetId&quot;: &quot;a626c880-1c41-489b-9e19-9596d129859c&quot;
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ogrsource"><a class="header" href="#ogrsource">OgrSource</a></h1>
<p>The <code>OgrSource</code> is a <em>source operator</em> that reads vector data using OGR.
The counterpart for raster data is the <a href="operators/./gdalsource.html"><code>GdalSource</code></a>.</p>
<h2 id="parameters-3"><a class="header" href="#parameters-3">Parameters</a></h2>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Example Value</th><th>Default Value</th></tr></thead><tbody>
<tr><td><code>dataset</code></td><td><code>DatasetId</code></td><td>The id of the dataset to be loaded</td><td><pre><code>{<br>  &quot;type&quot;: &quot;internal&quot;,<br>  &quot;datasetId&quot;: &quot;e977b123-ca47-4c5b-aace-481119826aaf&quot;<br>}</code></pre></td><td></td></tr>
<tr><td><code>attributeProjection</code></td><td><code>Array&lt;String&gt;</code></td><td>(Optional) The list of attributes to load. If nothing is specified, all attributes will be loaded.</td><td><code>[&quot;name&quot;, &quot;population&quot;]</code></td><td></td></tr>
<tr><td><code>attributeFilters</code></td><td><code>Array&lt;AttributeFilter&gt;</code></td><td>(Optional) The list of filters to apply on the attributes of features. Only the features that match all of the filters will be loaded.</td><td><pre><code>[{&quot;attribute&quot;: &quot;populuation&quot;,<br> &quot;ranges&quot;: [[1000, 10000]]<br>}]</code></pre></td><td></td></tr>
</tbody></table>
<h2 id="types-1"><a class="header" href="#types-1">Types</a></h2>
<p>The following describes the types used in the parameters.</p>
<h3 id="attributefilter"><a class="header" href="#attributefilter">AttributeFilter</a></h3>
<p>The <code>AttributeFilter</code> defines one or more ranges on the values of an attribute. The ranges include the lower and upper bounds of the range.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th><th></th></tr></thead><tbody>
<tr><td><code>attribute</code></td><td><code>String</code></td><td>The name of the attribute to filter.</td><td></td></tr>
<tr><td><code>ranges</code></td><td><code>Array&lt;Array&lt;String \| Number&gt;&gt;</code></td><td>The list of ranges to filter.</td><td></td></tr>
<tr><td><code>keepNulls</code></td><td><code>bool</code></td><td>(Optional) Specifies whether to keep null/no data entries, defaults to <code>false</code>.</td><td></td></tr>
</tbody></table>
<h2 id="inputs-3"><a class="header" href="#inputs-3">Inputs</a></h2>
<p>None</p>
<h2 id="errors-4"><a class="header" href="#errors-4">Errors</a></h2>
<p>If the given dataset does not exist or is not readable, an error is thrown.</p>
<h2 id="example-json-14"><a class="header" href="#example-json-14">Example JSON</a></h2>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;OgrSource&quot;,
  &quot;params&quot;: {
    &quot;dataset&quot;: {
      &quot;type&quot;: &quot;internal&quot;,
      &quot;datasetId&quot;: &quot;e977b123-ca47-4c5b-aace-481119826aaf&quot;
    },
    &quot;attributeProjection&quot;: [&quot;name&quot;, &quot;population&quot;],
    &quot;attributeFilters&quot;: [
      {
        &quot;attribute&quot;: &quot;population&quot;,
        &quot;ranges&quot;: [[1000, 10000]],
        &quot;keepNulls&quot;: false
      }
    ]
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pointinpolygon"><a class="header" href="#pointinpolygon">PointInPolygon</a></h1>
<p>The <code>PointInPolygon</code> operator filters point features of a (multi-)point collection with polygons.
In more detail, the points of each feature are checked against the polygons of the other collection.
If one or more point is included in any polygon's ring, the feature is included in the output.</p>
<p>For instance, you can filter tree features inside the polygons of a forest.
All features, that weren't inside any forest polygon, are considered either part of another forest or outliers and are thus removed.</p>
<h2 id="parameters-4"><a class="header" href="#parameters-4">Parameters</a></h2>
<p>The operator is parameterless.</p>
<h2 id="inputs-4"><a class="header" href="#inputs-4">Inputs</a></h2>
<p>The <code>PointInPolygon</code> operator expects two <em>vector</em> inputs.</p>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody>
<tr><td><code>points</code></td><td><code>SingleVectorSource</code></td></tr>
<tr><td><code>polygons</code></td><td><code>SingleVectorSource</code></td></tr>
</tbody></table>
<h2 id="errors-5"><a class="header" href="#errors-5">Errors</a></h2>
<p>If the <code>points</code> vector input is not a (multi-)point feature collection, an error is thrown.</p>
<p>If the <code>polygons</code> vector input is not a (multi-)polygon feature collection, an error is thrown.</p>
<h2 id="example-json-15"><a class="header" href="#example-json-15">Example JSON</a></h2>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;PointInPolygon&quot;,
  &quot;params&quot;: {},
  &quot;sources&quot;: {
    &quot;points&quot;: {
      &quot;type&quot;: &quot;OgrSource&quot;,
      &quot;params&quot;: {
        &quot;dataset&quot;: {
          &quot;type&quot;: &quot;internal&quot;,
          &quot;datasetId&quot;: &quot;e977b123-ca47-4c5b-aace-481119826aaf&quot;
        },
        &quot;attributeProjection&quot;: [&quot;name&quot;, &quot;population&quot;]
      }
    },
    &quot;polygons&quot;: {
      &quot;type&quot;: &quot;OgrSource&quot;,
      &quot;params&quot;: {
        &quot;dataset&quot;: {
          &quot;type&quot;: &quot;internal&quot;,
          &quot;datasetId&quot;: &quot;b6191257-6d61-4c6b-90a4-ebfb1b23899d&quot;
        }
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="reprojection"><a class="header" href="#reprojection">Reprojection</a></h1>
<p>The <code>Reprojection</code> operator reprojects data from one spatial reference system to another.
It accepts exactly one input which can either be a raster or a vector data stream.
The operator produces all data that, after reprojection, is contained in the query rectangle.</p>
<h2 id="data-type-specifics"><a class="header" href="#data-type-specifics">Data type specifics</a></h2>
<p>The concrete behavior depends on the data type.</p>
<h3 id="vector-data"><a class="header" href="#vector-data">Vector data</a></h3>
<p>The reprojection operator reprojects all coordinates of the features individually.
The result contains all features that, after reprojection, are <em>intersected</em> by the query rectangle.
If not all coordinates of the vector data stream could be projected, the operator returns an error.</p>
<h3 id="raster-data"><a class="header" href="#raster-data">Raster data</a></h3>
<p>To create tiles in the target projection, the operator first loads the corresponding tiles in the source projection.
Note, that in order to create one reprojected output tile, it may be necessary to load multiple source tiles.
For each output pixel, the operator takes the value of the input pixel nearest to its upper left corner.</p>
<p>In order to obtain precise results but avoid loading too much data, the operators estimate the resolution in which it loads the input raster stream.
The estimate is based on the target resolution defined by the query rectangle and the relationship between the length of the diagonal of the query rectangle in both projections.
Please refer to the source code for details.</p>
<p>In case a tile, or part of a tile, is not available in the source projection because it is outside of the defined extent, the operator will produce pixels with <em>no data</em> values.
If the input raster stream has no <em>no data</em> value defined, the value <em>0</em> will be used instead.</p>
<h2 id="parameters-5"><a class="header" href="#parameters-5">Parameters</a></h2>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Example Value</th></tr></thead><tbody>
<tr><td><code>targetSpatialReference</code></td><td><code>String</code></td><td>The srs string (<em>authority:code</em>) of the target spatial reference.</td><td><code>EPSG:4326</code></td></tr>
</tbody></table>
<h2 id="inputs-5"><a class="header" href="#inputs-5">Inputs</a></h2>
<p>The <code>Reprojection</code> operator expects exactly one <em>raster</em> or <em>vector</em> input.</p>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody>
<tr><td><code>source</code></td><td><code>RasterOrVectorOperator</code></td></tr>
</tbody></table>
<h2 id="errors-6"><a class="header" href="#errors-6">Errors</a></h2>
<p>The operator returns an error if the target projection is unknown or if the input data cannot be reprojected.</p>
<h2 id="example-json-16"><a class="header" href="#example-json-16">Example JSON</a></h2>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;Reprojection&quot;,
  &quot;params&quot;: {
    &quot;targetSpatialReference&quot;: &quot;EPSG:4326&quot;
  },
  &quot;sources&quot;: {
    &quot;source&quot;: {
      &quot;type&quot;: &quot;GdalSource&quot;,
      &quot;params&quot;: {
        &quot;dataset&quot;: {
          &quot;type&quot;: &quot;internal&quot;,
          &quot;datasetId&quot;: &quot;a626c880-1c41-489b-9e19-9596d129859c&quot;
        }
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="temporalrasteraggregation"><a class="header" href="#temporalrasteraggregation">TemporalRasterAggregation</a></h1>
<p>The <code>TemporalRasterAggregation</code> aggregates a raster time series into uniform time intervals (windows).
The output is a time series that begins with the first window that contains the <code>start</code> of the query time.
Each time slice has the same length, defined by the <code>window</code> parameter.
The pixel values are computed by aggregating all rasters that are contained in the input and that are valid in the current window using the defined <code>aggregation</code> method.
All output slices that are contained in the query time interval are produced by the operator.
The optional <code>windowReference</code> parameter allows specifying a custom anchor point for the windows.
This is the imagined start from which on the timeline is divided into uniform aggregation windows.
By default it is <code>1970-01-01T00:00:00Z</code> which means that windows of, e.g., 1 hour or 1 month will begin at the full hour or the start of the month.</p>
<p>An example usage scenario is to transform a daily raster time series into monthly aggregates.
Here, the query should start at the beginning of the month and the <code>window</code> should be 1 month.
The aggregation method allows calculating, e.g., the maximum or mean value for each pixel.
If we perform a query with time [2021-01-01, 2021-04-1), we would get a time series with three time steps.
If we perform a query with an instant like [2021-01-01, 2021-01-1), we will get a single time step containing the aggregated values for January 2021.</p>
<h2 id="parameters-6"><a class="header" href="#parameters-6">Parameters</a></h2>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Example Value</th></tr></thead><tbody>
<tr><td><code>aggregation</code></td><td><a href="operators/temporalrasteraggregation.html#aggregation"><code>Aggregation</code></a></td><td>method for aggregating pixels</td><td><pre><code>{<br>  &quot;type&quot;: &quot;max&quot;,<br>  &quot;ignoreNoData&quot;: false<br>}</code></pre></td></tr>
<tr><td><code>window</code></td><td><a href="operators//datatypes/timestep.html"><code>TimeStep</code></a></td><td>length of time steps</td><td><pre><code>{<br>  &quot;granularity&quot;: &quot;Months&quot;,<br>  &quot;step&quot;: 1<br>}</code></pre></td></tr>
<tr><td><code>windowReference</code></td><td><a href="operators//datatypes/timeinstance.html"><code>TimeInstance</code></a></td><td>(Optional) anchor point for the aggregation windows. Default value is <code>1970-01-01T00:00:00Z</code></td><td><code>1970-01-01T00:00:00Z</code></td></tr>
</tbody></table>
<h2 id="types-2"><a class="header" href="#types-2">Types</a></h2>
<p>The following describes the types used in the parameters.</p>
<h3 id="aggregation"><a class="header" href="#aggregation">Aggregation</a></h3>
<p>There are different methods that can be used to aggregate the raster time series.
Encountering a <em>no data</em> value makes the aggregation value of a pixel also <em>no data</em> unless the <code>ignoreNoData</code> parameter is set to <code>true</code>.</p>
<table><thead><tr><th>Variant</th><th>Parameters</th><th>Description</th></tr></thead><tbody>
<tr><td><code>min</code></td><td><code>ignoreNoData</code>: <code>bool</code></td><td>minimum value</td></tr>
<tr><td><code>max</code></td><td><code>ignoreNoData</code>: <code>bool</code></td><td>maximum value</td></tr>
<tr><td><code>first</code></td><td><code>ignoreNoData</code>: <code>bool</code></td><td>first encountered value</td></tr>
<tr><td><code>last</code></td><td><code>ignoreNoData</code>: <code>bool</code></td><td>last encountered value</td></tr>
<tr><td><code>mean</code></td><td><code>ignoreNoData</code>: <code>bool</code></td><td>mean value</td></tr>
</tbody></table>
<h2 id="inputs-6"><a class="header" href="#inputs-6">Inputs</a></h2>
<p>The <code>TemporalRasterAggregation</code> operator expects exactly one <em>raster</em> input.</p>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody>
<tr><td><code>raster</code></td><td><code>SingleRasterSource</code></td></tr>
</tbody></table>
<h2 id="errors-7"><a class="header" href="#errors-7">Errors</a></h2>
<p>If the aggregation method is <code>first, </code>last<code>, or </code>mean` and the input raster has no <em>no data</em> value, an error is thrown.</p>
<h2 id="example-json-17"><a class="header" href="#example-json-17">Example JSON</a></h2>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;TemporalRasterAggregation&quot;,
  &quot;params&quot;: {
    &quot;aggregation&quot;: {
      &quot;type&quot;: &quot;max&quot;,
      &quot;ignoreNoData&quot;: false
    },
    &quot;window&quot;: {
      &quot;granularity&quot;: &quot;Months&quot;,
      &quot;step&quot;: 1
    },
    &quot;windowReference&quot;: &quot;1970-01-01T00:00:00Z&quot;,
    &quot;sources&quot;: {
      &quot;raster&quot;: {
        &quot;type&quot;: &quot;GdalSource&quot;,
        &quot;params&quot;: {
          &quot;dataset&quot;: {
            &quot;type&quot;: &quot;internal&quot;,
            &quot;datasetId&quot;: &quot;a626c880-1c41-489b-9e19-9596d129859c&quot;
          }
        }
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="timeprojection"><a class="header" href="#timeprojection">TimeProjection</a></h1>
<p>The <code>TimeProjection</code> projects vector dataset timestamps to new granularities and ranges.
The output is a new vector dataset with the same geometry and attributes as the input.
However, each time step is projected to a new time range.
Moreover, the <a href="operators/./../datatypes/queryrectangle.html"><code>QueryRectangle</code>'s</a> temporal extent is enlarged as well to include the projected time range.</p>
<p>An example usage scenario is to transform snapshot observations into yearly time slices.
For instance, animal occurrences are observed at a daily granularity.
If you want to aggregate the data to a yearly granularity, you can use the <code>TimeProjection</code> operator.
This will change the validity of each element in the dataset to the full year where it was observed.
This is, for instance, useful when you want to combine it with raster time series and use different temporal semantics than the originally recorded validities.</p>
<h2 id="parameters-7"><a class="header" href="#parameters-7">Parameters</a></h2>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Example Value</th></tr></thead><tbody>
<tr><td><code>step</code></td><td><a href="operators//datatypes/timestep.html"><code>TimeStep</code></a></td><td>time granularity and size for the projection</td><td><pre><code>{<br>  &quot;granularity&quot;: &quot;years&quot;,<br>  &quot;step&quot;: 1<br>}</code></pre></td></tr>
<tr><td><code>stepReference</code></td><td><a href="operators//datatypes/timeinstance.html"><code>TimeInstance</code></a></td><td>(Optional) an anchor point for the time <code>step</code></td><td><pre>&quot;2010-01-01T00:00:00Z&quot;</pre></td></tr>
</tbody></table>
<h2 id="inputs-7"><a class="header" href="#inputs-7">Inputs</a></h2>
<p>The <code>TimeProjection</code> operator expects exactly one <em>vector</em> input.</p>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody>
<tr><td><code>vector</code></td><td><code>SingleVectorSource</code></td></tr>
</tbody></table>
<h2 id="errors-8"><a class="header" href="#errors-8">Errors</a></h2>
<p>If the <code>step</code> is negative, an error is thrown.</p>
<h2 id="example-json-18"><a class="header" href="#example-json-18">Example JSON</a></h2>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;TimeProjection&quot;,
  &quot;params&quot;: {
    &quot;step&quot;: {
      &quot;granularity&quot;: &quot;years&quot;,
      &quot;step&quot;: 1
    }
  },
  &quot;sources&quot;: {
    &quot;vector&quot;: {
      &quot;type&quot;: &quot;OgrSource&quot;,
      &quot;params&quot;: {
        &quot;dataset&quot;: {
          &quot;type&quot;: &quot;internal&quot;,
          &quot;datasetId&quot;: &quot;a626c880-1c41-489b-9e19-9596d129859c&quot;
        }
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="timeshift"><a class="header" href="#timeshift">TimeShift</a></h1>
<p>The <code>TimeShift</code> operator allows retrieving data temporally relative to the actual <a href="operators/./../datatypes/queryrectangle.html"><code>QueryRectangle</code></a>.
It shifts the query rectangle by a given amount of time and modifies the result data accordingly.
Users have two options for specifying the time shift:</p>
<ol>
<li>Relative shift – shift relatively to the query rectangle, e.g., one month or one year to the past.
This can be useful for comparing multiple points in time relative to the query rectangle.</li>
<li>Absolute shift – change query rectangle to a fixed temporal reference, e.g., January 2014.
This can be used to compare data in the query rectangle's time to a fixed point of reference.</li>
</ol>
<p>The output is either a stream of raster data or a stream of vector data depending on the input.</p>
<p>An example usage scenario is to compare the current time with the previous time of the same raster data.
For instance, a raster source outputs monthly data aggregates of mean temperatures.
If you want to compute the difference between the current month and the previous month, you can use the <code>TimeShift</code> operator.
You will have two workflows.
One is the unmodified temperature raster source.
The other is the same source, shifted by one month.
Then, you can use both workflows as sources of an <a href="operators/./expression.html"><code>Expression</code></a> operator.</p>
<p><em>Note</em>: This operator modifies the time values of the returned data.
For rasters and vector data, it shifts the time intervals opposite to the time shift specified in the operator.
This is necessary to have only data inside the result that is part of the <a href="operators/./../datatypes/queryrectangle.html"><code>QueryRectangle</code>'s</a> time interval.
As an example, we shift monthly data by one month to the past.
Our query rectangle points to February.
Then, the operator shifts the query rectangle to January.
The data, originally valid for January, is shifted forward to February again, to fit into the original query rectangle, which is February.
<img src="operators/../images/time-shift-explanation.png" alt="Time Shift" /></p>
<h2 id="parameters-8"><a class="header" href="#parameters-8">Parameters</a></h2>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Example Value</th></tr></thead><tbody>
<tr><td><code>type</code></td><td><code>relative</code> or <code>absolute</code></td><td>shift relatively or absolute</td><td><pre>&quot;relative&quot;</pre></td></tr>
</tbody></table>
<h3 id="relative"><a class="header" href="#relative">Relative</a></h3>
<p>If <code>type</code> is <code>relative</code>, you need to specify the following parameters:</p>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Example Value</th></tr></thead><tbody>
<tr><td><code>granularity</code></td><td><a href="operators//datatypes/timestep.html"><code>TimeGranularity</code></a></td><td>time granularity and for the shift</td><td><pre>&quot;months&quot;</pre></td></tr>
<tr><td><code>value</code></td><td><code>integer</code></td><td>the size of the step</td><td><pre>-1</pre></td></tr>
</tbody></table>
<h3 id="absolute"><a class="header" href="#absolute">Absolute</a></h3>
<p>If the <code>type</code> is <code>absolute</code>, you need to specify the following parameters:</p>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Example Value</th></tr></thead><tbody>
<tr><td><code>timeInterval</code></td><td><a href="operators//datatypes/timeinterval.html"><code>TimeInterval</code></a></td><td>A fixed shift of the <a href="operators/./../datatypes/queryrectangle.html"><code>QueryRectangle</code>'s</a> time</td><td><pre><code>{<br>  &quot;start&quot;: &quot;2010-01-01T00:00:00Z&quot;,<br>  &quot;end&quot;: &quot;2010-02-01T00:00:00Z&quot;<br>}</code></pre></td></tr>
</tbody></table>
<h2 id="inputs-8"><a class="header" href="#inputs-8">Inputs</a></h2>
<p>The <code>TimeShift</code> operator expects either one <em>vector</em> input or one <em>raster</em> input.</p>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody>
<tr><td><code>source</code></td><td><code>SingleRasterOrVectorSource</code></td></tr>
</tbody></table>
<h2 id="example-json-19"><a class="header" href="#example-json-19">Example JSON</a></h2>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;TimeShift&quot;,
  &quot;params&quot;: {
    &quot;type&quot;: &quot;relative&quot;,
    &quot;granularity&quot;: &quot;months&quot;,
    &quot;value&quot;: -1
  },
  &quot;sources&quot;: {
    &quot;source&quot;: {
      &quot;type&quot;: &quot;GdalSource&quot;,
      &quot;params&quot;: {
        &quot;dataset&quot;: {
          &quot;type&quot;: &quot;internal&quot;,
          &quot;datasetId&quot;: &quot;00000000-0000-0000-0000-000000000539&quot;
        }
      }
    }
  }
}
</code></pre>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;TimeShift&quot;,
  &quot;params&quot;: {
    &quot;type&quot;: &quot;absolute&quot;,
    &quot;time_interval&quot;: {
      &quot;start&quot;: &quot;2010-01-01T00:00:00Z&quot;,
      &quot;end&quot;: &quot;2010-02-01T00:00:00Z&quot;
    }
  },
  &quot;sources&quot;: {
    &quot;source&quot;: {
      &quot;type&quot;: &quot;GdalSource&quot;,
      &quot;params&quot;: {
        &quot;dataset&quot;: {
          &quot;type&quot;: &quot;internal&quot;,
          &quot;datasetId&quot;: &quot;00000000-0000-0000-0000-000000000539&quot;
        }
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vectorjoin"><a class="header" href="#vectorjoin">VectorJoin</a></h1>
<p>The <code>VectorJoin</code> operator allows combining multiple vector inputs into a single feature collection.
There are multiple join variants defined, which are described below.</p>
<p>For instance, you want to join tabular data to a point collection of buildings.
The point collection contains the geolocation of the buildings and their id.
The attribute data collection has the building id and the height information.
Combining the two feature collections leads to a single point collection with geolocation and height information.</p>
<h2 id="parameters-9"><a class="header" href="#parameters-9">Parameters</a></h2>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Example Value</th></tr></thead><tbody>
<tr><td><code>type</code></td><td>A value of <code>EquiGeoToData</code>, …</td><td>The type of join</td><td><pre>&quot;EquiGeoToData&quot;</pre></td></tr>
</tbody></table>
<h3 id="equigeotodata"><a class="header" href="#equigeotodata">EquiGeoToData</a></h3>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Example Value</th></tr></thead><tbody>
<tr><td><code>leftColumn</code></td><td>string</td><td>The column name of the left input</td><td><pre>&quot;id&quot;</pre></td></tr>
<tr><td><code>rightColumn</code></td><td>string</td><td>The column name of the right input</td><td><pre>&quot;id&quot;</pre></td></tr>
<tr><td><code>rightColumn_suffix</code></td><td>(Optional) string</td><td>A value to suffix the right join column to avoid name clashes with the columns of the left input. If nothing is specified, the default value is <code>right</code>.</td><td><pre>&quot;right&quot;</pre></td></tr>
</tbody></table>
<h2 id="inputs-9"><a class="header" href="#inputs-9">Inputs</a></h2>
<p>The <code>VectorJoin</code> operator expects two <em>vector</em> inputs.</p>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody>
<tr><td><code>left</code></td><td><code>SingleVectorSource</code></td></tr>
<tr><td><code>right</code></td><td><code>SingleVectorSource</code></td></tr>
</tbody></table>
<h2 id="errors-9"><a class="header" href="#errors-9">Errors</a></h2>
<p>If the value in the <code>left</code> parameter is not a column of the left feature collection, an error is thrown.</p>
<p>If the value in the <code>right</code> parameter is not a column of the right feature collection, an error is thrown.</p>
<h3 id="equigeotodata-1"><a class="header" href="#equigeotodata-1">EquiGeoToData</a></h3>
<p>If the left input is not a geo data collection, an error is thrown.</p>
<p>If the right input is not a (non-geo) data collection, an error is thrown.</p>
<h2 id="example-json-20"><a class="header" href="#example-json-20">Example JSON</a></h2>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;VectorJoin&quot;,
  &quot;params&quot;: {
    &quot;type&quot;: &quot;EquiGeoToData&quot;,
    &quot;leftColumn&quot;: &quot;id&quot;,
    &quot;rightColumn&quot;: &quot;id&quot;,
    &quot;rightColumnSuffix&quot;: &quot;_other&quot;
  },
  &quot;sources&quot;: {
    &quot;points&quot;: {
      &quot;type&quot;: &quot;OgrSource&quot;,
      &quot;params&quot;: {
        &quot;dataset&quot;: {
          &quot;type&quot;: &quot;internal&quot;,
          &quot;datasetId&quot;: &quot;e977b123-ca47-4c5b-aace-481119826aaf&quot;
        },
        &quot;attributeProjection&quot;: [&quot;name&quot;, &quot;population&quot;]
      }
    },
    &quot;polygons&quot;: {
      &quot;type&quot;: &quot;OgrSource&quot;,
      &quot;params&quot;: {
        &quot;dataset&quot;: {
          &quot;type&quot;: &quot;internal&quot;,
          &quot;datasetId&quot;: &quot;b6191257-6d61-4c6b-90a4-ebfb1b23899d&quot;
        }
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="visualpointclustering"><a class="header" href="#visualpointclustering">VisualPointClustering</a></h1>
<p>The <code>VisualPointClustering</code> is a clustering operator for point collections that removes clutter and preserves the spatial structure of the input.
The output is a point collection with a count and radius attribute.
The operator utilizes the input resolution of the query to determine when points, being displayed as circles, would overlap.
Moreover, it allows aggregating non-geo attributes to preserve the other columns of the input.
For more information on the algorithm, cf. the paper <a href="https://doi.org/10.1145/3139958.3140037">Beilschmidt, C. et al.: A Linear-Time Algorithm for the Aggregation and Visualization of Big Spatial Point Data. SIGSPATIAL/GIS 2017: 73:1-73:4</a>.</p>
<p>An exemplary use case for this operator is the visualization of point data in an online map application.
There, you can use this operator as the final step of the workflow to cluster the points and display them as circles.
These circles then pose a decluttered view of the data, e.g., via a WFS endpoint.</p>
<h2 id="parameters-10"><a class="header" href="#parameters-10">Parameters</a></h2>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Example Value</th></tr></thead><tbody>
<tr><td><code>minRadiusPx</code></td><td>number</td><td>Minimum circle radius in screen pixels</td><td><pre>10</pre></td></tr>
<tr><td><code>deltaPx</code></td><td>number</td><td>Minimum circle to circle distance in screen pixels input</td><td><pre>1</pre></td></tr>
<tr><td><code>radiusColumn</code></td><td>string</td><td>The new column name to store radius information in screen pixels</td><td><pre>&quot;__radius&quot;</pre></td></tr>
<tr><td><code>countColumn</code></td><td>string</td><td>The new column name to store the number of points represented by each circle</td><td><pre>&quot;__count&quot;</pre></td></tr>
<tr><td><code>columnAggregates</code></td><td>Map from string to aggregate definition (one of <code>MeanNumber</code>, <code>StringSample</code> or <code>Null</code>)</td><td>Specify how miscellaneous columns should be aggregated. You can optionally set a new <a href="operators/../datatypes/measurement.html"><code>Measurement</code></a>. Otherwise, the <a href="operators/../datatypes/measurement.html"><code>Measurement</code></a> is taken from the source column.</td><td><pre><code>{<br>  &quot;foo&quot;: {<br>    &quot;columnName&quot;: &quot;numericColumn&quot;,<br>    &quot;aggregateType&quot;: &quot;MeanNumber&quot;,<br>    &quot;measurement&quot;: { &quot;type&quot;: &quot;unitless&quot; }<br>  },<br>  &quot;bar&quot;: {<br>    &quot;columnName&quot;: &quot;textColumn&quot;,<br>    &quot;aggregateType&quot;: &quot;StringSample&quot;<br>  }<br>}</code></pre></td></tr>
</tbody></table>
<h2 id="inputs-10"><a class="header" href="#inputs-10">Inputs</a></h2>
<p>The <code>VisualPointClustering</code> operator expects exactly one <em>vector</em> input that must be a point collection.</p>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody>
<tr><td><code>vector</code></td><td><code>SingleVectorSource</code></td></tr>
</tbody></table>
<h2 id="errors-10"><a class="header" href="#errors-10">Errors</a></h2>
<p>If the source value <code>vector</code> is not a point collection, an error is thrown.</p>
<p>If multiple columns in <code>columnAggregates</code> have the same names, an error is thrown.</p>
<h2 id="example-json-21"><a class="header" href="#example-json-21">Example JSON</a></h2>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;VisualPointClustering&quot;,
  &quot;params&quot;: {
    &quot;minRadiusPx&quot;: 8.0,
    &quot;deltaPx&quot;: 1.0,
    &quot;radiusColumn&quot;: &quot;__radius&quot;,
    &quot;countColumn&quot;: &quot;__count&quot;,
    &quot;columnAggregates&quot;: {
      &quot;mean_population&quot;: {
        &quot;columnName&quot;: &quot;population&quot;,
        &quot;aggregateType&quot;: &quot;MeanNumber&quot;,
        &quot;measurement&quot;: { &quot;type&quot;: &quot;unitless&quot; }
      },
      &quot;sample_names&quot;: {
        &quot;columnName&quot;: &quot;name&quot;,
        &quot;aggregateType&quot;: &quot;StringSample&quot;
      }
    }
  },
  &quot;sources&quot;: {
    &quot;vector&quot;: {
      &quot;type&quot;: &quot;OgrSource&quot;,
      &quot;params&quot;: {
        &quot;dataset&quot;: {
          &quot;type&quot;: &quot;internal&quot;,
          &quot;datasetId&quot;: &quot;e977b123-ca47-4c5b-aace-481119826aaf&quot;
        },
        &quot;attributeProjection&quot;: [&quot;name&quot;, &quot;population&quot;]
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="plots"><a class="header" href="#plots">Plots</a></h1>
<p>Plots are special kinds of operators that generate visualizations.</p>
<p>Geo Engine supports three output types:</p>
<ul>
<li><code>jsonPlain</code>: structured output in JSON format</li>
<li><code>jsonVega</code>: a Vega-Lite visualization (cf. <a href="https://vega.github.io/vega-lite/">Vega-Lite</a>)</li>
<li><code>imagePng</code>: a PNG image</li>
</ul>
<p>Thus, plots can contain statistics, visualizations, and images.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="boxplot"><a class="header" href="#boxplot">BoxPlot</a></h1>
<p>The <code>BoxPlot</code> is a <em>plot operator</em> that computes a box plot over</p>
<ul>
<li>a selection of numerical columns of a single vector dataset, or</li>
<li>multiple raster datasets.</li>
</ul>
<p>Thereby, the operator considers all data in the given query rectangle.</p>
<p>The boxes of the plot span the 1st and 3rd quartile and highlight the median. The whiskers indicate the minimum and maximum values of the corresponding attribute or raster.</p>
<h2 id="vector-data-1"><a class="header" href="#vector-data-1">Vector Data</a></h2>
<p>In the case of vector data, the operator generates one box for each of the selected numerical attributes.
The operator returns an error if one of the selected attributes is not numeric.</p>
<h3 id="parameter"><a class="header" href="#parameter">Parameter</a></h3>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Example Value</th></tr></thead><tbody>
<tr><td><code>columnNames</code></td><td><code>Vec&lt;String&gt;</code></td><td>The names of the attributes to generate boxes for.</td><td><code>[&quot;x&quot;,&quot;y&quot;]</code></td></tr>
</tbody></table>
<h2 id="raster-data-1"><a class="header" href="#raster-data-1">Raster Data</a></h2>
<p>For raster data, the operator generates one box for each input raster.</p>
<h3 id="parameter-1"><a class="header" href="#parameter-1">Parameter</a></h3>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Example Value</th></tr></thead><tbody>
<tr><td><code>columnNames</code></td><td><code>Vec&lt;String&gt;</code></td><td><em>Optional</em>: An alias for each input source. The operator will automatically name the boxes <code>Raster-1</code>, <code>Raster-2</code>, ... if this parameter is empty. If aliases are given, the number of aliases must match the number of input rasters. Otherwise an error is returned.</td><td><code>[&quot;A&quot;,&quot;B&quot;]</code>.</td></tr>
<tr><td><code>includeNoData</code></td><td><code>bool</code></td><td>Flag whether to include <em>no data</em> values.</td><td><code>true</code></td></tr>
</tbody></table>
<h2 id="inputs-11"><a class="header" href="#inputs-11">Inputs</a></h2>
<p>The operator consumes exactly one <em>vector</em> or multiple <em>raster</em> operators.</p>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody>
<tr><td><code>source</code></td><td><code>MultipleRasterOrSingleVectorSource</code></td></tr>
</tbody></table>
<h2 id="errors-11"><a class="header" href="#errors-11">Errors</a></h2>
<p>The operator returns an error in the following cases.</p>
<ul>
<li>Vector data: The <code>attribute</code> for one of the given <code>columnNames</code> is not numeric.</li>
<li>Vector data: The <code>attribute</code> for one of the given <code>columnNames</code> does not exist.</li>
<li>Raster data: The length of the <code>columnNames</code> parameter does not match the number of input rasters.</li>
</ul>
<h2 id="notes"><a class="header" href="#notes">Notes</a></h2>
<p>If your dataset contains <code>infinite</code> or <code>NAN</code> values, they are ignored for the computation. Moreover, if your dataset contains more than <code>10.000</code>values (which is likely for rasters),
the median and quartiles are estimated using the P^2 algorithm described in:</p>
<p>R. Jain and I. Chlamtac, The P^2 algorithm for dynamic calculation of quantiles and
histograms without storing observations, Communications of the ACM,
Volume 28 (October), Number 10, 1985, p. 1076-1085.
<a href="https://www.cse.wustl.edu/%7Ejain/papers/ftp/psqr.pdf">https://www.cse.wustl.edu/~jain/papers/ftp/psqr.pdf</a></p>
<h2 id="example-json-22"><a class="header" href="#example-json-22">Example JSON</a></h2>
<h3 id="vector"><a class="header" href="#vector">Vector</a></h3>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;BoxPlot&quot;,
  &quot;params&quot;: {
    &quot;columnNames&quot;: [&quot;x&quot;, &quot;y&quot;]
  },
  &quot;sources&quot;: {
    &quot;source&quot;: {
      &quot;type&quot;: &quot;OgrSource&quot;,
      &quot;params&quot;: {
        &quot;dataset&quot;: {
          &quot;type&quot;: &quot;internal&quot;,
          &quot;datasetId&quot;: &quot;a626c880-1c41-489b-9e19-9596d129859c&quot;
        }
      }
    }
  }
}
</code></pre>
<h3 id="raster"><a class="header" href="#raster">Raster</a></h3>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;BoxPlot&quot;,
  &quot;params&quot;: {
    &quot;columnNames&quot;: [&quot;A&quot;, &quot;B&quot;],
    &quot;includeNoData&quot;: true
  },
  &quot;sources&quot;: {
    &quot;source&quot;: [
      {
        &quot;type&quot;: &quot;GdalSource&quot;,
        &quot;params&quot;: {
          &quot;dataset&quot;: {
            &quot;type&quot;: &quot;internal&quot;,
            &quot;datasetId&quot;: &quot;a626c880-1c41-489b-9e19-9596d129859c&quot;
          }
        }
      },
      {
        &quot;type&quot;: &quot;GdalSource&quot;,
        &quot;params&quot;: {
          &quot;dataset&quot;: {
            &quot;type&quot;: &quot;internal&quot;,
            &quot;datasetId&quot;: &quot;a626c880-1c41-489b-9e19-9596d129859c&quot;
          }
        }
      }
    ]
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="classhistogram"><a class="header" href="#classhistogram">ClassHistogram</a></h1>
<p>The <code>ClassHistogram</code> is a <em>plot operator</em> that computes a histogram plot either over categorical attributes of a vector dataset or categorical values of a raster source.
The output is a plot in <a href="https://vega.github.io/vega-lite/">Vega-Lite</a> specification.</p>
<p>For instance, you want to plot the frequencies of the classes of a categorical attribute of a feature collection.
Then you can use a class histogram to visualize and assess this.</p>
<h2 id="parameters-11"><a class="header" href="#parameters-11">Parameters</a></h2>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Example Value</th></tr></thead><tbody>
<tr><td><code>columnName</code></td><td><code>string</code> (optional)</td><td>The name of the attribute making up the x-axis of the histogram. Must be set for a vector sources, must not be set for rasters.</td><td><code>&quot;temperature&quot;</code></td></tr>
</tbody></table>
<h2 id="inputs-12"><a class="header" href="#inputs-12">Inputs</a></h2>
<p>The operator consumes either one <em>vector</em> or one <em>raster</em> operator.</p>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody>
<tr><td><code>source</code></td><td><code>SingleRasterOrVectorSource</code></td></tr>
</tbody></table>
<h2 id="errors-12"><a class="header" href="#errors-12">Errors</a></h2>
<p>The operator returns an error if…</p>
<ul>
<li>the selected column (<code>columnName</code>) does not exist or is not numeric,</li>
<li>the source is a raster and the property <code>columnName</code> is set, or</li>
<li>the input <a href="plots/../datatypes/measurement.html"><code>Measurement</code></a> is not categorical.</li>
</ul>
<p>The operator returns an error if</p>
<h2 id="notes-1"><a class="header" href="#notes-1">Notes</a></h2>
<p>The operator only uses values of the categorical <a href="plots/../datatypes/measurement.html"><code>Measurement</code></a>.
It ignores missing or no-data values and values that are not covered by the <a href="plots/../datatypes/measurement.html"><code>Measurement</code></a>.</p>
<h2 id="example-json-23"><a class="header" href="#example-json-23">Example JSON</a></h2>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;ClassHistogram&quot;,
  &quot;params&quot;: {
    &quot;columnName&quot;: &quot;foobar&quot;
  },
  &quot;sources&quot;: {
    &quot;vector&quot;: {
      &quot;type&quot;: &quot;OgrSource&quot;,
      &quot;params&quot;: {
        &quot;dataset&quot;: {
          &quot;type&quot;: &quot;internal&quot;,
          &quot;datasetId&quot;: &quot;a626c880-1c41-489b-9e19-9596d129859c&quot;
        }
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="featureattributevaluesovertime"><a class="header" href="#featureattributevaluesovertime">FeatureAttributeValuesOverTime</a></h1>
<p>The <code>FeatureAttributeValuesOverTime</code> is a <em>plot operator</em> that computes a multi-line plot for feature attribute values over time.
For distinguishing features, the data requires an id column.
The output is a plot in Vega-Lite specification.</p>
<p><img src="plots/../images/feature_attribute_values_over_time_example.png" alt="Feature Attribute Values Over Time" /></p>
<p>For instance, you want to plot the NDVI values of a feature collection of trees.
Then, you can use a multi-line plot to visualize the trees by their id.</p>
<h2 id="parameters-12"><a class="header" href="#parameters-12">Parameters</a></h2>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Example Value</th></tr></thead><tbody>
<tr><td><code>idColumn</code></td><td><code>string</code></td><td>The column name of the <code>id</code> attribute (one line per <code>id</code>.)</td><td><code>&quot;id&quot;</code></td></tr>
<tr><td><code>valueColumn</code></td><td><code>string</code></td><td>The column name of the <code>value</code> attribute (y-axis values).</td><td><code>&quot;temperature&quot;</code></td></tr>
</tbody></table>
<h2 id="inputs-13"><a class="header" href="#inputs-13">Inputs</a></h2>
<p>The operator consumes exactly one <em>vector</em> operator.</p>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody>
<tr><td><code>vector</code></td><td><code>SingleVectorSource</code></td></tr>
</tbody></table>
<h2 id="errors-13"><a class="header" href="#errors-13">Errors</a></h2>
<p>The operator returns an error if the selected columns ( <code>idColumn</code> and <code>valueColumn</code>) do not exist or <code>valueColumn</code> is not numeric.</p>
<h2 id="notes-2"><a class="header" href="#notes-2">Notes</a></h2>
<p>The operator processes a maximum of <code>20</code> different ids.
After recognizing more than <code>20</code> different ids, the operator ignores the rest.</p>
<h2 id="example-json-24"><a class="header" href="#example-json-24">Example JSON</a></h2>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;FeatureAttributeValuesOverTime&quot;,
  &quot;params&quot;: {
    &quot;idColumn&quot;: &quot;id&quot;,
    &quot;valueColumn&quot;: &quot;temperature&quot;
  },
  &quot;sources&quot;: {
    &quot;vector&quot;: {
      &quot;type&quot;: &quot;OgrSource&quot;,
      &quot;params&quot;: {
        &quot;dataset&quot;: {
          &quot;type&quot;: &quot;internal&quot;,
          &quot;datasetId&quot;: &quot;a626c880-1c41-489b-9e19-9596d129859c&quot;
        }
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="histogram"><a class="header" href="#histogram">Histogram</a></h1>
<p>The <code>Histogram</code> is a <em>plot operator</em> that computes a histogram plot either over attributes of a vector dataset or values of a raster source.
The output is a plot in <a href="https://vega.github.io/vega-lite/">Vega-Lite</a> specification.</p>
<p>For instance, you want to plot the data distribution of numeric attributes of a feature collection.
Then you can use a histogram with a suitable number of buckets to visualize and assess this.</p>
<h2 id="parameters-13"><a class="header" href="#parameters-13">Parameters</a></h2>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Example Value</th></tr></thead><tbody>
<tr><td><code>columnName</code></td><td><code>string</code>, ignored for raster input</td><td>The name of the attribute making up the x-axis of the histogram.</td><td><code>&quot;temperature&quot;</code></td></tr>
<tr><td><code>bounds</code></td><td><code>HistogramBounds</code> (either <code>data</code> or specified <code>values</code>)</td><td>If <code>data</code>, it computes the bounds of the underlying data. If <code>values</code>, one can specify custom bounds.</td><td><pre><code>{<br>  &quot;min&quot;: 0.0,<br>  &quot;max&quot;: 20.0<br>}</code></pre> <code>&quot;data&quot;</code></td></tr>
<tr><td><code>buckets</code></td><td>(Optional) number</td><td>The number of buckets. The value is calculated, if not specified.</td><td><code>20</code></td></tr>
<tr><td><code>interactive</code></td><td>(Optional) <code>boolean</code></td><td>Flag, if the histogram should have user interactions for a range selection. It is <code>false</code> by default.</td><td><code>true</code></td></tr>
</tbody></table>
<h2 id="inputs-14"><a class="header" href="#inputs-14">Inputs</a></h2>
<p>The operator consumes either one <em>vector</em> or one <em>raster</em> operator.</p>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody>
<tr><td><code>source</code></td><td><code>SingleRasterOrVectorSource</code></td></tr>
</tbody></table>
<h2 id="errors-14"><a class="header" href="#errors-14">Errors</a></h2>
<p>The operator returns an error if the selected column (<code>columnName</code>) does not exist or is not numeric.</p>
<h2 id="notes-3"><a class="header" href="#notes-3">Notes</a></h2>
<p>If <code>bounds</code> or <code>buckets</code> are not defined, the operator will determine these values by itself which requires processing the data twice.</p>
<p>If the <code>buckets</code> parameter is unset, the operator estimates it using the square root of the number of elements in the data.</p>
<h2 id="example-json-25"><a class="header" href="#example-json-25">Example JSON</a></h2>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;Histogram&quot;,
  &quot;params&quot;: {
    &quot;columnName&quot;: &quot;foobar&quot;,
    &quot;bounds&quot;: {
      &quot;min&quot;: 5.0,
      &quot;max&quot;: 10.0
    },
    &quot;buckets&quot;: 15,
    &quot;interactive&quot;: false
  },
  &quot;sources&quot;: {
    &quot;vector&quot;: {
      &quot;type&quot;: &quot;OgrSource&quot;,
      &quot;params&quot;: {
        &quot;dataset&quot;: {
          &quot;type&quot;: &quot;internal&quot;,
          &quot;datasetId&quot;: &quot;a626c880-1c41-489b-9e19-9596d129859c&quot;
        }
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="meanrasterpixelvaluesovertime"><a class="header" href="#meanrasterpixelvaluesovertime">MeanRasterPixelValuesOverTime</a></h1>
<p>The <code>MeanRasterPixelValuesOverTime</code> is a <em>plot operator</em> that computes a time series plot of mean raster values.
For each time step in the raster time series, it computes one mean value.
The output is a plot in Vega-Lite specification.</p>
<p>For instance, you want to plot the mean temperature of a monthly raster time series.
Then, you can use this operator to generate a time series plot.</p>
<h2 id="parameters-14"><a class="header" href="#parameters-14">Parameters</a></h2>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Example Value</th></tr></thead><tbody>
<tr><td><code>timePosition</code></td><td>string (<code>start</code>, <code>center</code> or <code>end</code>)</td><td>Where should the x-axis (time) tick be positioned? At either time start, time end or in the center.</td><td><code>&quot;start&quot;</code></td></tr>
<tr><td><code>area</code></td><td>(Optional) <code>boolean</code></td><td>Whether to fill the area under the curve. Defaults to <code>true</code>.</td><td><code>false</code></td></tr>
</tbody></table>
<h2 id="inputs-15"><a class="header" href="#inputs-15">Inputs</a></h2>
<p>The operator consumes exactly one <em>raster</em> operator.</p>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody>
<tr><td><code>raster</code></td><td><code>SingleRasterSource</code></td></tr>
</tbody></table>
<h2 id="example-json-26"><a class="header" href="#example-json-26">Example JSON</a></h2>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;MeanRasterPixelValuesOverTime&quot;,
  &quot;params&quot;: {
    &quot;timePosition&quot;: &quot;start&quot;,
    &quot;area&quot;: true
  },
  &quot;sources&quot;: {
    &quot;raster&quot;: {
      &quot;type&quot;: &quot;GdalSource&quot;,
      &quot;params&quot;: {
        &quot;dataset&quot;: {
          &quot;type&quot;: &quot;internal&quot;,
          &quot;datasetId&quot;: &quot;a626c880-1c41-489b-9e19-9596d129859c&quot;
        }
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scatterplot"><a class="header" href="#scatterplot">ScatterPlot</a></h1>
<p>The <code>ScatterPlot</code> is a <em>plot operator</em> that computes a scatter plot over two attributes of a vector dataset.
Thereby, the operator considers all data in the given query rectangle.</p>
<p>In case of more than <code>500</code> points to plot, the representation changes from a regular scatter plot
to a 2D Histogram with buckets determined from the underlying data.</p>
<h2 id="parameters-15"><a class="header" href="#parameters-15">Parameters</a></h2>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Example Value</th></tr></thead><tbody>
<tr><td><code>columnX</code></td><td><code>String</code></td><td>The name of the attribute making up the x-axis of the plot.</td><td><code>&quot;width&quot;</code></td></tr>
<tr><td><code>columnY</code></td><td><code>String</code></td><td>The name of the attribute making up the y-axis of the plot.</td><td><code>&quot;height&quot;</code></td></tr>
</tbody></table>
<h2 id="inputs-16"><a class="header" href="#inputs-16">Inputs</a></h2>
<p>The operator consumes exactly one <em>vector</em> operator.</p>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody>
<tr><td><code>source</code></td><td><code>SingleVectorSource</code></td></tr>
</tbody></table>
<h2 id="errors-15"><a class="header" href="#errors-15">Errors</a></h2>
<p>The operator returns an error if one of the selected columns does not exist or is not numeric.</p>
<h2 id="notes-4"><a class="header" href="#notes-4">Notes</a></h2>
<p>If your dataset contains <code>infinite</code> or <code>NAN</code> values, they are ignored for the computation. Moreover, if
your dataset contains more than <code>10.000</code> values, the buckets of the histogram are generated based on
those <code>10.000</code>values. Later values outside those bounds are ignored.</p>
<h2 id="example-json-27"><a class="header" href="#example-json-27">Example JSON</a></h2>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;ScatterPlot&quot;,
  &quot;params&quot;: {
    &quot;columnX&quot;: &quot;width&quot;,
    &quot;columnY&quot;: &quot;height&quot;
  },
  &quot;sources&quot;: {
    &quot;vector&quot;: {
      &quot;type&quot;: &quot;OgrSource&quot;,
      &quot;params&quot;: {
        &quot;dataset&quot;: {
          &quot;type&quot;: &quot;internal&quot;,
          &quot;datasetId&quot;: &quot;a626c880-1c41-489b-9e19-9596d129859c&quot;
        }
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="statistics"><a class="header" href="#statistics">Statistics</a></h1>
<p>The <code>Statistics</code> operator is a <em>plot operator</em> that computes count statistics of a <em>raster</em> source.
The output is a JSON description.</p>
<p>For instance, you want to get an overview of the raster data source.
Then, you can use this operator to get basic count statistics.</p>
<h2 id="parameters-16"><a class="header" href="#parameters-16">Parameters</a></h2>
<p>This operator is parameterless.</p>
<h2 id="inputs-17"><a class="header" href="#inputs-17">Inputs</a></h2>
<p>The operator consumes one or more <em>raster</em> operators.</p>
<table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody>
<tr><td><code>rasters</code></td><td><code>MultipleRasterSources</code></td></tr>
</tbody></table>
<h2 id="example-json-28"><a class="header" href="#example-json-28">Example JSON</a></h2>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;Statistics&quot;,
  &quot;params&quot;: {},
  &quot;sources&quot;: {
    &quot;rasters&quot;: [
      {
        &quot;type&quot;: &quot;GdalSource&quot;,
        &quot;params&quot;: {
          &quot;dataset&quot;: {
            &quot;type&quot;: &quot;internal&quot;,
            &quot;datasetId&quot;: &quot;a626c880-1c41-489b-9e19-9596d129859c&quot;
          }
        }
      }
    ]
  }
}
</code></pre>
<h3 id="example-output"><a class="header" href="#example-output">Example Output</a></h3>
<pre><code class="language-json">[
  {
    &quot;pixelCount&quot;: 6,
    &quot;nanCount&quot;: 0,
    &quot;min&quot;: 1.0,
    &quot;max&quot;: 6.0,
    &quot;mean&quot;: 3.5,
    &quot;stddev&quot;: 1.707
  }
]
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
                        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
                
    </body>
</html>
